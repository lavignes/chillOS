pkg Mem;

pub type FnAlloc = fn(&mut U8, UInt, &mut U8): ?mut U8;
pub type FnRealloc = fn(&mut U8, &mut U8, UInt, &mut U8): ?mut U8;
pub type FnDealloc = fn(&mut U8, &mut U8, &mut U8);

pub type AllocTable = {
    ctx: &mut U8,
    alloc: FnAlloc,
    realloc: FnRealloc,
    dealloc: FnDealloc,
};

pub fn set(mem: []mut U8, val: U8) {
    let mut i = 0u;
    for i < lengthof mem {
        mem[i] = val;
        i += 1;
    }
}
